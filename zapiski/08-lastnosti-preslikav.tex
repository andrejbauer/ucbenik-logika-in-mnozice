\chapter{Lastnosti preslikav}

Mnogi ste v srednji šoli že spoznali osnovne lastnosti preslikav, kot so injektivnost, surjektivnost in bijektivnost preslikave. V tej lekciji ponovimo te pojme in jih povežemo še s pojmoma monomorfizem in epimorfizem, ki sta pomembna v algebri

\section{Osnovne lastnosti preslikav}

\subsection{Injektivna, surjektivna, bijektivna preslikava}

\begin{definicija}
  Preslikava $f : A \to B$ je
  %
  \begin{itemize}
  \item \textbf{injektivna}, ko velja $\all{x y \in A} f(x) = f(y) \lthen x = y$,
  \item \textbf{surjektivna}, ko velja $\all{y \in B} \some{x \in A} f(x) = y$,
  \item \textbf{bijektivna}, ko je surjektivna in injektivna.
  \end{itemize}
\end{definicija}

\begin{opomba}
  Pogosto vidimo definicijo injektivnosti, ki pravi, da $f$ slika različne elemente v različne vrednosti, se pravi $\all{x y \in A} x \neq y \lthen f(x) \neq f(y)$. Ta definicija je ekvivalentna naši, a jo ne priporočamo, ker je manj uporabna.
  Naša definicija namreč podaja recept, kako preverimo injektivnost: predpostavimo $f(x) = f(y)$ in od tod izpeljemo
  $x = y$ tako, da predelamo \emph{enačbo} $f(x) = f(y)$ v enačbo $x = y$. To je v splošnem lažje kot predelava \textbf{neenačb}.
\end{opomba}

\begin{naloga}
  Primerjaj definicijo injektivnosti in surjektivnosti z zahtevo, da mora biti prirejanje, ki določa preslikavo, enolično in celovito.
\end{naloga}


\subsection{Monomorfizmi in epimorfizmi}

\begin{definicija}
  Preslikava $f : A \to B$ je
  %
  \begin{itemize}
  \item \textbf{monomorfizem (mono)}, ko jo lahko krajšamo na levi:
    \begin{equation*}
      \all{C \in \Set} \all{g, h : C \to A} f \circ g = f \circ h \lthen g = h.
    \end{equation*}

   \item \textbf{epimorfizem (epi)}, ko jo lahko krajšamo na desni:
     \begin{equation*}
      \all{C \in \Set} \all{g, h : B \to C} g \circ f = h \circ f \lthen g = h.
    \end{equation*}
  \end{itemize}
\end{definicija}

Pojma monomorfizem in epimorfizem sta uporabna, ker nam omogočata, da \emph{krajšamo} funkcije, ki nastopajo v enačbah. Na vajah boste reševali naloge, kjer to pride prav.

\begin{izrek}
  \label{izr:epi-mono-comp}
  Naj bosta $f : A \to B$ in $g : B \to C$ preslikavi. Tedaj velja:
  %
  \begin{enumerate}
  \item Kompozicija monomorfizmov je monomorfizem.
  \item Kompozicija epimorfizmov je epimorfizem.
  \item Če je $g \circ f$ monomorfizem, je $f$ monomorfizem.
  \item Če je $g \circ f$ epimorfizem, je $g$ epimorfizem.
  \end{enumerate}
\end{izrek}

\begin{dokaz}
  \begin{enumerate}
  \item Naj bosta $f : A \to B$ in $g : B \to C$ monomorfizma. Dokazujemo, da je
    $g \circ f$ tudi monomorfizem. Naj bosta $h, k : D \to A$ preslikavi, za kateri velja
    $(g \circ f) \circ h = (g \circ f) \circ k$. Dokazujemo $h = k$. Ker je kompozicija
    preslikav asociativna, velja
    $g \circ (f \circ h) = (g \circ f) \circ h = (g \circ f) \circ k = g \circ (f \circ k)$.
    Ker je $g$ monomorfizem, ga smemo krajšati na levi, torej dobimo
    $f \circ h = f \circ k$. Ker je $f$ monomorfizem, ga smemo krajšati in dobimo želeno
    enakost $h = k$.

  \item Dokaz je podoben prejšnjemu, le vloga leve in desne strani se spremeni.

  \item Dokaz je podoben naslednjemu, le vloga leve in desne strani se spremeni.

  \item Naj bosta $f : A \to B$ in $g : B \to C$ preslikavi in $g \circ f$ epimorfizem.
    Dokazujemo, da je $g$ epimorfizem. Naj bosta $h, k : C \to D$ taki preslikavi, da
    velja $h \circ g = k \circ g$. Dokazujemo, da je $h = k$. Iz $h \circ g = k \circ h$
    sledi $(h \circ g) \circ f = (k \circ g) \circ f$. Če upoštevamo asociativnost
    kompozicije, dobimo $h \circ (g \circ f) = k \circ (g \circ f)$. Ker je $g \circ f$
    epimorfizem, ga smemo krajšati na desni, od koder dobimo želeno enakost $h = k$.
  \end{enumerate}
\end{dokaz}


\begin{izrek}
  Za preslikavo $f : A \to B$ velja:
  %
  \begin{enumerate}
  \item $f$ je monomorfizem, če in samo če je $f$ injektivna.
  \item $f$ je epimorfizem, če in samo če je $f$ surjektivna.
  \item $f$ je izomorfizem, če in samo če je $f$ bijektivna.
  \end{enumerate}
\end{izrek}


\begin{dokaz}
  \begin{enumerate}
  \item ($\Rightarrow$) Če je $f$ monomorfizem in $f(x) = f(y)$, tedaj je
  $(f \circ (u \mapsto x)) \unit = f(x) = f(y) = (f \circ (u \mapsto y)) \unit$, torej
  $(u \mapsto x) = (u \mapsto y)$ in sledi $x = y$.

  ($\Leftarrow$) Če je $f$ injektivna in $f \circ g = f \circ h$, potem je za vsak $x$
  $f(g(x)) = f(h(x))$, torej $g(x) = h(x)$ za vsak $x$, torej $g = h$.

  \item
    ($\Rightarrow$) Če je $f$ epimorfizem: obravnavajmo množico
    % 
    \begin{equation*}
      S = \set{ z \in B \such \some{x \in A} f(x) = z }
    \end{equation*}
    % a
    ter preslikavi $\chi_S : B \to 2$ in $(y \mapsto \top) : B \to \two$. Ker velja
    $\chi_S \circ f = (y \mapsto \top) \circ f$, sledi $\chi_S = (y \mapsto \top)$, torej $S = B$, kar je surjektivnost.

    ($\Leftarrow$) Če je $f$ surjektivna in $g \circ f = h \circ f$: naj bo $y \in B$. Obstaja $x \in A$, da je $f(x) = y$. Torej je $g(y) = g(f(x)) = h(f(x)) = h(y)$.
    Torej je $g = h$.

  \item ($\Rightarrow$) Če je $f$ izomorfizem, potem:
    %
    je $f$ epi, ker je $\id[B] = f \circ \inv{f}$ epi;
    je $f$ mono, ker je $\id[A] = \inv{f} \circ f$ mono.

    ($\Leftarrow$) Če je $f$ bijektivna, potem je njen inverz $\inv{f}$ definiran s predpisom
    %
    \begin{equation*}
      f(y) = \descr{x \in A} f(x) = y \qquad\qquad
      \text{">tisti $x$, ki ga $f$ slika v $y$"<}
    \end{equation*}
    %
    Dokazati je treba $\exactlyone{x \in A} f(x) = y$.
    To velja, saj $\some{x \in A} f(x) = y$ sledi iz surjektivnosti $f$ in
    $\all{x_1, x_2} f(x_1) = y \land f(x_2) = y \lthen x_1 = x_2$ iz injektivnosti~$f$.
  \end{enumerate}
\end{dokaz}

\subsection{Retrakcija in prerez}

Spoznajmo še pojem retrakcije in prereza. Na predavanjih bomo s sliko pojasnili, zakaj se tako imenujeta.

\begin{definicija}
  Če sta $f : A \to B$ in $g : B \to A$ taki preslikava, da velja $f \circ g = \id[B]$, pravimo:
  %
  \begin{itemize}
  \item $f$ je \textbf{retrakcija} ali \textbf{levi inverz} $g$,
  \item $g$ je \textbf{prerez} ali \textbf{desni inverz} $f$.
  \end{itemize}
\end{definicija}

\begin{naloga}
  Podajte primer retrakcije in prereza, ki \emph{nista} izomorfizma.
\end{naloga}

\begin{izrek}
  Retrakcija je epimorfizem, prerez je monomorfizem.
\end{izrek}

\begin{dokaz}
  Denimo, da velja $f \circ g = \id$, torej je $f$ retrakcija in $g$ prerez. Ker je identiteta monomorfizem, je po izreku \ref{izr:epi-mono-comp} tudi $g$ monomorfizem. In ker je identiteta epimorfizem, je po istem izreku $f$ epimorfizem.
\end{dokaz}

\section{Slike in praslike}

\subsection{Izpeljane množice}

Naj bo $f : A \to B$ preslikava. Tedaj definiramo \textbf{izpeljano množico}
%
\begin{equation*}
  \set{ f(x) \such x \in A }
  \defeq \set{ y \in B \such \some{x \in A} y = f(x) }.
\end{equation*}
%
ter \textbf{izpeljano množico s pogojem}
%
\begin{equation*}
  \set{ f(x) \such x \in A \such \phi(x) }
  \defeq \set{ y \in B \such \some{x \in A} \phi(x) \land y = f(x) }.
\end{equation*}
%
Običajno se piše izpeljano množico s pogojem kar
%
\begin{equation*}
  \set{ f(x) \such x \in A \land \phi(x) }.
\end{equation*}

\begin{primer}
  Množica vseh kvadratov naravnih števil je izpeljana množica $\set{ n^2 \such n \in \NN }$.
\end{primer}


\subsection{Slike in praslike}

\begin{definicija}
  Naj bo $f : A \to B$ preslikava:
  %
  \begin{itemize}
  \item \textbf{Praslika} podmnožice $S \subseteq B$ je $\invimg{f}(S) \defeq \set{ x \in A \such f(x) \in S }$.
  \item \textbf{Slika} podmnožice $T \subseteq A$ je $\img{f}(T) \defeq \set{ y \in B \such \some{x \in T} f(x) = y }$.
  \end{itemize}
\end{definicija}
%
Prasliki pravimo tudi \textbf{inverzna slika} in sliki tudi \textbf{direktna slika}.

Kot vidimo, lahko sliko zapišemo tudi kot izpeljano množico
%
\begin{equation*}
  \img{f}(T) \defeq \set{ f(x) \such x \in T }.
\end{equation*}
%
Običajni zapis za prasliko $\invimg{f}(S)$ je tudi $\inv{f}(S)$, vendar tega zapisa mi ne bomo uporabljali, ker napačno namiguje, da ima $f$ inverz. Boste pa ta zapis videli marsikje drugje, ker so matematiki konzervativna bitja, ki raje nekaj stoletij uporabljajo slab zapis, kot da bi spremenili svoje navade.

Običajni zapis za sliko $\img{f}(S)$ je tudi $f(S)$ ali $f[S]$. Predvsem $f(S)$ se uporablja v praksi, a tudi tega odsvetujemo. Kako naj pri takem zapisu ločimo med $f(x)$ in $\img{f}(\set{x})$?

\begin{definicija}
  \textbf{Zaloga vrednosti} preslikave $f : A \to B$ je slika domene, torej $\img{f}(A)$.
\end{definicija}


\subsection{Slike in praslike kot preslikave višjega reda}

Naj bo $f : A \to B$. Tedaj sta tudi $\invimg{f}$ in $\img{f}$ preslikavi.
%
Res, $\invimg{f} : \pow{B} \to \pow{A}$ je določena s predpisom $S \mapsto \set{ x \in A \such f(x) \in S }$, in
$\img{f} : \pow{A} \to \pow{B}$ je določena s predpisom $T \mapsto \set{ f(x) \such x \in T }$

Še več, tudi ">zgornja zvezdica $^{*}$"< in ">spodnja zvezdica $_{*}$"< sta preslikavi
%
\begin{equation*}
  {}^* : B^A \to \pow{A}^{\pow{B}} \qquad
  {}_* : B^A \to \pow{B}^{\pow{A}}
\end{equation*}
%
Ker slikata preslikave v preslikave, pravimo, da sta to \textbf{preslikavi višjega reda}. Primer preslikave višjega reda je tudi odvod, ki funkciji priredi njen odvod.


\subsection{Lastnosti slike in praslike}

\begin{izrek}
  Naj bo $f : A \to B$ preslikava:
  %
  \begin{itemize}
  \item praslike so monotone: če je $S \subseteq T \subseteq A$, potem je $\invimg{f}(S) \subseteq \invimg{f}(T)$
  \item slike so monotone: če je $X \subseteq Y \subseteq B$, potem je $\img{f}(X) \subseteq \img{f}(Y)$.
  \end{itemize}
\end{izrek}

\begin{dokaz}
  Dokaz pustimo za vajo.
\end{dokaz}

\begin{izrek}
  Praslike ohranjajo preseke in unije: za vse $f : A \to B$ in $S : I \to \pow{B}$ velja
  %
  \begin{equation*}
    \textstyle
    \invimg{f} (\bigcup_{i \in I} S_i) = \bigcup_{i \in I} \invimg{f}(S_i)
    \iinn
    \invimg{f} (\bigcap_{i \in I} S_i) = \bigcap_{i \in I} \invimg{f}(S_i).
  \end{equation*}
\end{izrek}

\begin{dokaz}
  Dokažimo prvo izjavo, druga je zelo podobna, le da $\exists$ zamenjamo z $\forall$.
  %
  Dokazujemo $\invimg{f} (\bigcup_{i \in I} S_i) \subseteq \bigcup_{i \in I} \invimg{f}(S_i)$.
  Naj bo $x \in \invimg{f} (\bigcup_{i \in I} S_i)$ in dokazujemo $x \in \bigcup_{j \in I} \invimg{f}(S_j)$.
  Ker je $f(x) \in \bigcup_{i \in I} S_i$ obstaja $k \in I$, da je $f(x) \in S_k$, torej je
  $x \in \invimg{f}(S_k) \subseteq \bigcup_{i \in I} \invimg{f}(S_i)$.
\end{dokaz}

\begin{izrek}
  Naj bo $f : A \to B$ in $T : I \to \pow{A}$. Tedaj je
  %
  \begin{equation*}
    \textstyle
     \img{f} (\bigcup_{i \in I} T_i) = \bigcup_{i \in I} \img{f}(T_i)
     \iinn
     \img{f} (\bigcap_{i \in I} T_i) \subseteq \bigcap_{i \in I} \img{f}(S_i).
  \end{equation*}
  %
\end{izrek}

\begin{dokaz}
  Dokaz prepustimo za vajo.
\end{dokaz}

\begin{naloga}
  Iz zgornjih dveh izrekov izpeljite naslednja dejstva:
  %
  \begin{align*}
    \invimg{f}(\emptyset) &= \emptyset, \\
    \img{f}(\emptyset) &= \emptyset, \\
    \invimg{f}(B) &= A, \\
    \invimg{f}(S \cup T) &= \invimg{f}(S) \cup \invimg{f}(T), \\
    \invimg{f}(S \cap T) &= \invimg{f}(S) \cap \invimg{f}(T).
  \end{align*}
  %
  Poleg tega imamo za $S \subseteq B$ še $\invimg{f}(\compl{S}) = \compl{(\invimg{f}(S))}$.
\end{naloga}