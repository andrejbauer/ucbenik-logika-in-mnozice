\chapter{Razredi in družine}
\label{cha:razred-druzine}

\section{Russellov paradoks}

V prejšnji lekciji smo spoznali zapis podmnožice
%
\begin{equation*}
    \set{ x \in A \such \phi(x) },
\end{equation*}
%
ki tvori podmnožico $A$ vseh elementov, ki zadoščajo pogoju $x$. Ko je bila
teorija množic še v povojih, se je sama po sebi ponujala ideja, da bi lahko
opisali množice kot ">kakršnokoli"< zbirko stvari. Torej bi lahko pisali
%
\begin{equation*}
    \set{ x \such \phi(x) }
\end{equation*}
%
za množico vseh tistih stvari (objektov, matematičnih entitet), ki zadoščajo
pogoju~$\phi$. Se pravi, da bi veljalo
%
\begin{equation*}
    a \in \set{ x \such \phi(x) } \iff \phi(a)
\end{equation*}
%
A izkaže se, da ne moremo kar tako tvoriti povsem poljubnih množic objektov. To
je odkril znameniti filozof, logik in matematik Betrand Russell. Razmislek se po
njem imenuje \textbf{Russellov paradoks}. Le-ta je v matematiko vnesel pravo ">krizo
temeljev"<, iz katere se je v prvi polovici 20.~stoletja razvila logika in
temelji matematike, kot jih poznamo danes.

Russellov paradoks gre takole. Denimo, da bi lahko tvorili poljubne množice
objektov. Tedaj bi lahko tvorili tudi množico vseh množic, ki niso element same
sebe:
%
\begin{equation*}
    R \defeq \set{ S \such S \not\in S }
\end{equation*}
%
Sedaj bomo izpeljali protislovje tako, da bomo dokazali $R \not\in R$ in $R \in R$:
%
\begin{enumerate}
\item Dokažimo $R \not\in R$.
  %
  Denimo, da bi veljalo $R \in R$. Potem po definiciji $R$ velja $R \not\in R$, kar
  je v protislovju s predpostavko $R \in R$.

\item
  Dokažimo $R \in R$. V prvem koraku smo že dokazali $R \not\in R$, torej po
  definiciji $R$ velja $R \in R$.
\end{enumerate}
%
Kaj lahko storimo? Očitno je treba pazljivo nadzorovati dopustne konstrukcije
množic.

\section{Množice in razredi}

V sodobni teoriji množic Russellov paradoks razrešimo tako, da ločimo med dvema
različnima zvrstema zbirk ali skupkov elementov, namreč \textbf{množicami} in \textbf{razredi}.

Torej imamo opravka s tremi zvrstmi matematičnih objektov:
%
\begin{enumerate}
\item Elementi, ki niso množice (na primer naravna števila), pravimo jim \textbf{urelementi}.
\item Zbirke elementov, ki se imenujejo \textbf{množice}.
\item Zbirke elementov, ki se imenujejo \textbf{razredi}.
\end{enumerate}
%
Elementi množic so urelementi in množice. Enako velja za razrede.
%
V čem je torej razlika med množicami in razredi?
%
\emph{Množica je lahko element (druge množice ali razreda).
Razred ne more biti element (druge množice ali razreda).}
%
S tem želimo povedati, da je zapis
%
\begin{equation*}
    x \in Y
  \end{equation*}
%
\emph{neveljaven}, če je~$x$ razred. Se pravi, če je $x$ razred, potem sploh ne moremo govoriti o tem, ali je $x \in Y$ resnična izjava, saj ni izjava, ker ni izraz.

Vsaka množica je hkrati razred. Ni pa vsak razred tudi množica.

Razred je množica, če ga lahko skonstruiramo še na kak drug način s pomočjo
pravil za konstrukcije množic (kartezični produkti, vsote, eksponenti, unije,
preseki, podmnožice in vse ostale konstrukcije množic, ki jih bomo še spoznali).

\textbf{Pravi razred} je tak razred, ki ni množica.
%
Z zapisom
%
\begin{equation*}
  \set{ x \such \phi(x) }
\end{equation*}
%
definiramo \textbf{razred} vseh objektov, ki zadoščajo pogoju $\phi$. Se pravi, da velja
%
\begin{equation*}
    a \in \set{ x \such \phi(x) } \iff \phi(a).
\end{equation*}
%
Poglejmo nekaj primerov.

\begin{zgled}
  \textbf{Russellov razred} $R \defeq \set{ S \such S \not\in S }$ vsebuje vse množice, ki niso element same sebe. Paradoks smo razrešili, saj je nesmiselno zapisati $R \in R$.
\end{zgled}


\begin{zgled}
  \textbf{Razred vseh množic}
  %
  \begin{equation*}
    V \defeq \set{ S \such \text{$S$ je množica} },
  \end{equation*}
% 
  ki ga označimo tudi s $\Set$. To je pravi razred. Res, če bi bil $V$ množica,
  potem bi lahko tvorili podmnožico
  %
  \begin{equation*}
    \set{ S \in V \such S \not\in S},
  \end{equation*}
  %
  ki ni nič drugega kot Russellov $R$. Tako bi spet dobili protislovje. Torej $V$
  ni množica.
\end{zgled}

\begin{zgled}
  Razred vseh enojcev $E \defeq \set{ S \such \exactlyone{x \in S} \top }$ je pravi razred. Res, če bi bil množica, potem bi bila množica tudi njegova unija $\bigcup E$, ki pa je enaka~$V$.
\end{zgled}

\begin{zgled}
  Zbirke vseh matematičnih struktur dane vrste pogosto tvorijo prave razrede. Na primer, razred vseh grup, razred vseh kolobarjev, vseh vektorskih prostorov itd.
\end{zgled}

Z razredi lahko delamo tako kot z množicami: tvorimo unije, preseke in produkte
razredov, govorimo po podrazredih). Pri tem uporabljamo enake oznake za
operacije kot pri množicah. Paziti moramo le, da razreda nikoli ne uporabimo kot
element kake množice ali razreda. Na primer, če je $C$ razred, lahko tvorimo
">potenčni razred"> $\pow{C}$, ki vsebuje vse \emph{podmnožice} $C$:
%a
\begin{equation*}
    \pow{C} \defeq \set{ S \such S \in \Set \land S \subseteq C }.
\end{equation*}
%
Ne smemo pa tvoriti $\set{ D \such D \subseteq C }$, ker bi s tem $C$ postal element razreda $\set{D \such D \subseteq C}$.

\section{Družine množic}

Pogosto imamo opravka z zbirko množic. Če je zbirka končna, lahko množice preprosto
naštejemo in vsako od njih poimenujemo
%
\begin{align*}
    A &= \cdots \\
    B &= \cdots \\
    C &= \cdots
\end{align*}
%
Če je množic neskončno, jih morda lahko oštevilčimo:
%
\begin{align*}
    A_1 &= \cdots \\
    A_2 &= \cdots \\
    A_3 &= \cdots \\
    A_4 &= \cdots \\
        &\vdots
\end{align*}
%
A tu se zadeve še ne končajo, saj lahko v splošnem obravnavamo poljubno zbirko množic.
Takim zbirkam pravimo \textbf{družine množic}. Družina množic je \textbf{indeksirana} z elementi neke množice $I$, ki ji pravimo \textbf{indeksna množica}. Za vsak $i \in I$ imamo množico $A_i$,  kar lahko izrazimo tudi z naslednjo definicijo.

\begin{definicija}
  \textbf{Družina množic} je preslikava $I \to \Set$. Množici $I$ pravimo \textbf{indeksna množica} in njenim elementov \textbf{indeksi}.
\end{definicija}


\begin{zgled}
  Končno zbirko množic lahko indeksiramo s končno množico. Denimo, da imamo
  množice $A$, $B$, $C$, $D$, $E$. Iz njih lahko tvorimo družino $S : I \to \Set$:
  %
  \begin{align*}
  I &= \set{1, 2, 3, 4, 5}, \\
  S_1 &= A,\\
  S_2 &= B,\\
  S_3 &= C,\\
  S_4 &= D,\\
  S_5 &= E.
  \end{align*}
\end{zgled}

\begin{zgled}
  Nihče nas ne sili, da morajo biti indeksi števila. V prejšnjem primeru bi lahko
  uporabili $I = \set{42, 13, \sqrt{2}, \emptyset, \RR}$ in definirali $S : I \to \Set$
  %
  \begin{align*}
  S_{42} &= A,\\
  S_{13} &= B,\\
  S_{\sqrt{2}} &= C,\\
  S_{\emptyset} &= D,\\
  S_{\RR} &= E.
  \end{align*}
\end{zgled}


\begin{zgled}
  Množice v družini se lahko ponavljajo. Skrajni primer je \textbf{konstantna družina}, v kateri so vse množice med seboj enake.
\end{zgled}

\begin{zgled}
  \textbf{Prazna družina} je družina množic, ki je indeksirana z $\emptyset$.
\end{zgled}

\begin{zgled}
  Prazno družino moramo ločiti od \textbf{družine praznih množic}
  %
  \begin{align*}
    I &\to \Set \\
    i &\mapsto \emptyset
  \end{align*}
\end{zgled}

\begin{zgled}
  \textbf{Neprazna družina} je družina indeksirana z neprazno množico.
  \textbf{Družina nepraznih množic} je družina, v kateri so vse množice neprazne.
  Torej velja:
  %
  \begin{itemize}
  \item Prazna družina je družina nepraznih množic.
  \item Družina praznih množic je lahko prazna družina (ko je indeksna množica $\emptyset$).
  \item Družina praznih množic je lahko neprazna družina (ko je indeksna množica neprazna).
  \end{itemize}
\end{zgled}


\section{Konstrukcije in operacije z družinami množic}

Operacije $\times$, $+$, $\cap$ in $\cup$ lahko posplošimo tako, da namesto z dvema
množicama delujejo na poljubnem številu množic. V ta namen uporabimo družine
množic.

\subsection{Presek in unija družine}

Presek in unija družine $A : I \to \Set$ sta definirana takole:
%
\begin{align*}
  \bigcup_{i \in I} A_i &\defeq \set{ x \such \some{i \in I} x \in A_i },
  \\
  \bigcap_{i \in I} A_i &\defeq \set{ x \such \all{ i \in I} x \in A_i }.
\end{align*}
%
Pozor! Na desni strani imamo razred! Res se lahko zgodi, da dobimo pravi razred, namreč
kot presek prazne družine:
%
\begin{align*}
  \bigcap_{i \in \emptyset} A_i
  &= \set{ x \such \all{ i \in \emptyset} x \in A_i } \\
  &= \set { x \such \top } \\
  &= V.
\end{align*}
%
Kdaj pa dobimo množico? Presek neprazne družine je vedno množica. Res, če imamo
$k \in I$, potem velja
%
\begin{equation*}
    \bigcap_{i \in I} A_i = \set{ x \in A_k \such \all{i \in I} x \in A_i}.
\end{equation*}
%
Sedaj na desni ne stoji več razred, ampak podmnožica množice~$A_k$.

Kaj pa unija družine množic? Ali je množica? Izkaže se, da za to potrebujemo aksiom:

\begin{aksiom}
  Unija družine množic je množica.
\end{aksiom}


\subsection{Kartezični produkt družine}

\begin{definicija}
  \textbf{Funkcija izbire} za družino $A : I \to \Set$ je tako prirejanje, ki vsakemu indeksu $i \in I$ priredi natanko en element $f(i) \in A_i$.
 \end{definicija}

 \begin{zgled}
   Primer: funkcija izbire za družino
   %
   \begin{align*}
   A &: \NN \to \Set \\
   A_n &\defeq \set{ x \in R \such 0 < x < 2^{-n} }
   \end{align*}
   %
   je na $f(n) \defeq 2^{-n - 1}$. To ni edina funkcija izbire za $A$, lahko bi vzeli tudi $f(n) = 2^{-n} / 3$.
 \end{zgled}

 \begin{definicija}
   \textbf{Kartezični produkt} družine $A : I \to \Set$ je množica vseh funkcij izbire družine~$A$:
   %
   \begin{equation*}
     \prod_{i \in I} A_i \defeq
     \set{f : I \to \textstyle\bigcup_{i \in I} A_i \such \all{i \in I} f(i) \in A_i}.
   \end{equation*}
   %
   Za vsak $j \in I$ imamo \textbf{$j$-to projekcijo}
   %
   \begin{align*}
    \pr[j] &:  \left(\textstyle\prod_{i \in I} A_i\right) \to A_j, \\
    \pr[j] &:  f \mapsto f(j).
   \end{align*}
 \end{definicija}

Običajni kartezični produkt dveh množic je poseben primer produkta množic, namreč družine
množic, ki je indeksirana z $I = \set{1, 2}$. Natančneje, velja
%
\begin{equation*}
  A \times B \cong \textstyle\prod_{i \in \set{1, 2}} C_i,
\end{equation*}
%
kjer je $C_1 = A$ in $C_2 = B$.

Tudi eksponentna množica je poseben primer produkta množic, saj velja
%
\begin{equation*}
  B^A \cong \textstyle\prod_{a \in A} B
\end{equation*}
%
Na desni imamo produkt konstantne družine množic
\begin{align*}
  A &\to \Set, \\
  a &\mapsto B.
\end{align*}


\subsection{Koprodukt ali vsota množic}

Vsoto množic posplošimo na koprodukt družine.

\begin{definicija}
  \textbf{Koprodukt} ali \textbf{vsota družine} $A : I \to \Set$ je množica
  $\sum_{i \in I} A_i$, katere elementi so $\inj[i](a)$ za $i \in I$ in $a \in A_i$.
  Preslikavi $\inj[k] : A_k \to \sum_{i \in I} A_i$ pravimo \textbf{$k$-ta injekcija}.

  Poleg tega definiramo še \textbf{projekciji}
  %
  \begin{align*}
    \fst (\inj[i](a)) &= i, \\
    \snd (\inj[i](a)) &= a.
  \end{align*}
  %
  Namesto $\sum$ se piše tudi $\coprod$.
\end{definicija}

Poseben primer koprodukta je vsota $A + B$, saj velja
%
\begin{equation*}
  A + B \cong \textstyle\sum_{k \in \set{1, 2}} C_k
\end{equation*}
%
kjer je
\begin{align*}
  C &: \set{1, 2} \to \Set \\
  C_1 &\defeq A, \\
  C_2 &\defeq B.
\end{align*}
%
Tudi kartezični produkt $A \times B$ je poseben primer koprodukta, saj velja
%
\begin{equation*}
    A \times B \cong \textstyle\sum_{a \in A} B
\end{equation*}
%
Na desni imamo tokrat koprodukt konstantne družine množic
%
\begin{align*}
  A &\to \Set, \\
  a &\mapsto B.
\end{align*}
