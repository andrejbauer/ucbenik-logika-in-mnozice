\chapter{Boolova algebra}

\section{Resničnostne tabele}

Vsaka izjava ima \textbf{resničnostno vrednost}. Resničnostni vrednosti sta $\bot$
(neresnica) in $\top$ (resnica). Na primer, izjava $\bot \lor (\top \lthen \top)$ je resnična, njena resničnostna vrednost je $\top$. Izjava $2 + 2 = 5$ je neresnična, njena resničnostna vrednost je~$\bot$.

Kadar izjava vsebuje spremenljivke (pravimo jim tudi \emph{parametri}), je njena
resničnostna vrednost \emph{odvisna} od parametrov. Na primer, če sta $x, y \in \NN$ spremenljivki, je resničnostna vrednost izjave $x + 2 y < 3$ odvisna
od $x$ in $y$, kar lahko prikažemo z \textbf{resničnostno tabelo}:
%
\begin{center}
  \begin{tabular}{ccc}
    \toprule
    $x$ & $y$ & $x + 2 y < 3$ \\ \midrule
    $0$ & $0$ & $\top$ \\
    $0$ & $1$ & $\top$ \\
    $1$ & $0$ & $\top$ \\
    $2$ & $0$ & $\top$ \\
    $1$ & $1$ & $\bot$ \\
    $0$ & $2$ & $\bot$ \\
    $\vdots$ & $\vdots$ & $\vdots$ \\
    \bottomrule
  \end{tabular}
\end{center}
% 
Kot vidimo, je lahko resničnostna tabela neskončna. Bolj uporabne so končne resničnostne tabele, v katerih parametri zavzemajo vrednosti iz končne množice.

V izjavi lahko nastopajo tudi \textbf{izjavne spremenljivke} ali \textbf{izjavni simboli}, to se spremenljivke, ki zavzamejo vrednosti $\bot$ in $\top$.
Na primer, naj bo $\two = \set{\bot, \top}$ in $p, q \in \two$. Tedaj je $\neg p \lor q$ izjava, katere resničnostna tabela je
%
\begin{center}
  \begin{tabular}{ccc}
    \toprule
    $p$ & $q$ & $\neg p \lor q$ \\ \midrule
    $\bot$ & $\bot$ & $\top$ \\
    $\bot$ & $\top$ & $\top$ \\
    $\top$ & $\bot$ & $\bot$ \\
    $\top$ & $\top$ & $\top$ \\
    \bottomrule
  \end{tabular}
\end{center}

Izjava $\phi(p_1, \ldots, p_n)$, v kateri nastopajo izjavne spremenljivke $p_1, \ldots, p_n$ (in nobeni drugi parametri) določa preslikavo
%
\begin{equation*}
  \two \times \cdots \times \two \to \two
\end{equation*}
%
s predpisom
%
\begin{equation*}
    (p_1, \ldots, p_n) \mapsto \phi(p_1, \ldots, p_n)
\end{equation*}
%
Preslikavi, ki slika iz produkta $\two \times \cdots \times \two$ v $\two$ pravimo \textbf{Boolova preslikava}. Prikažemo jo lahko z resničnostno tabelo. Če ima preslikava~$n$ argumentov, ima tabela $2^n$ vrstic.


\subsection{Tavtologije}

Izjava je \textbf{tavtologija}, če je njena resničnostna vrednost $\top$ ne glede na
vrednosti parametrov. Premisli: kako iz resničnostne tabele razberemo, ali je
izjava tavtologija?

\begin{izrek}
  Naj bo $\phi$ izjava, v kateri nastopajo le izjavni simboli
  $p_1,\ldots,p_n$. Tedaj je $\phi$ tavtologija, če in samo če ima dokaz.
\end{izrek}

\begin{dokaz}
  Dokaz najdete v \cite{prijatelj92:_osnov}.
\end{dokaz}

\noindent
%
Izrek je pomemben, ker nam pove, da lahko dokazovanje izjav nadomestimo s preverjanjem resničnostnih tabel.

\begin{opomba}
  Izrek velja samo za izjave, ki jih sestavimo iz izjavnih simbolov, $\bot$, $\top$ in
  logičnih veznikov $\neg$, $\land$, $\lor$, $\lthen$, $\liff$. Za splošne izjave, ki vsebujejo tudi $\forall$ in $\exists$ izrek \emph{ne} velja. Lahko se namreč zgodi, da ima izjava neskončno resničnostni tabelo, v kateri so vse resničnostne vrednosti~$\top$, a izjava nima dokaza.
\end{opomba}

\subsection{Polni nabori}

Vsaka formula v izjavnem računu ima resničnostno tabelo. Ali lahko vsako tabelo
dobimo kot resničnostno tabelo neke formule? Na primer, ali obstaja formula,
katere resničnostna tabela se glasi
%
\begin{center}
  \begin{tabular}{ccc}
    \toprule
    $p$ & $q$ & ? \\ \midrule
    $\bot$ & $\bot$ & $\bot$ \\
    $\bot$ & $\top$ & $\top$ \\
    $\top$ & $\bot$ & $\top$ \\
    $\top$ & $\top$ & $\bot$ \\
    \bottomrule
  \end{tabular}
\end{center}
%
Odgovor je pritrdilen. Podajmo dva načina, kako tako izjavo izračunamo iz tabele.

\subsubsection{Disjunktivna oblika}
\label{sec:disjunktivna-oblika}

Za vsako vrstico v tabeli, ki ima vrednost $\top$ zapišemo konjunkcijo simbolov in
njihovih negacij, pri čemer negiramo tiste simbole, ki imajo v dani vrstici vrednost
$\bot$. Na primer, v zgornji tabeli imata druga in tretja vrstica vrednost $\top$, zanju
zapišemo konjunkciji:
%
\begin{itemize}
\item 2.~vrstica: $\neg p \land q$,
\item 3.~vrstica: $p \land \neg q$.
\end{itemize}
%
Nato tvorimo disjunkcijo tako dobljenih konjunkcij:
%
\begin{equation*}
  (\neg p \land q) \lor (p \land \neg q).
\end{equation*}
%
Dobljena formula ima želeno resničnostno tabelo.

\subsubsection{Konjuktivna oblika}
\label{sec:konjuktivna-oblika}

Za vsako vrstico v tabeli, ki ima vrednost $\bot$ zapišemo
disjunkcijo simbolov in njihovih negacij, pri čemer negiramo tiste simbole, ki
imajo v dani vrstici vrednost $\top$. Na primer, v zgornji tabeli imata prva in
četrta vrstica vrednost $\bot$, zanju zapišemo disjunkciji:
%
\begin{itemize}
\item 1.~vrstica: $p \lor q$
\item 4.~vrstica: $\neg p \lor \neg q$
\end{itemize}
%
Nato tvorimo konjunkcijo tako dobljenih disjunkcij:
%
\begin{equation*}
  (p \lor q) \land (\neg p \lor \neg q).
\end{equation*}
%
Zgornjo tabelo bi lahko dobili tudi kot resničnostno tabelo formule
%
\begin{equation*}
    p \oplus q
\end{equation*}

\subsection{Polni nabori}
\label{sec:polni-nabori}

Vidimo, da lahko vsako resničnostno tabelo dobimo z uporabo veznikov $\neg$, $\lor$ in
$\land$. \textbf{Polni nabor} je tak izbor veznikov, s katerim lahko dobimo vsako
resničnostno tabelo.

Torej je $\neg$, $\lor$, $\land$ poln nabor. Lahko bi ga še zmanjšali na $\neg$, $\land$, saj lahko $p \lor q$ izrazimo kot $\neg (\neg p \land \neg q)$.

Nabor $\land$, $\lor$ pa \emph{ni} poln, saj ne moremo dobiti resničnostne tabele
%
\begin{center}
  \begin{tabular}{cc}
    \toprule
    $p$ & ? \\ \midrule
    $\bot$ & $\top$ \\
    $\top$ & $\bot$ \\
    \bottomrule
  \end{tabular}
\end{center}
%
Res, če iz $p$, $\land$ in $\lor$ sestavimo poljubno formulo $\phi(p)$, na primer $(p \land (p \lor p)) \land p$, bo ta ekvivalentna~$p$ in bo zato veljalo $\phi(\top) = \top$, zgornja tabela pa zahteva $\phi(\top) = \bot$.


\section{Boolova algebra}

Ekvivalentni izjavi imata enake resničnostne vrednosti, torej lahko ekvivalenco
$\liff$ obravnavamo kar kot enakost, saj to tudi je, kar se tiče resničnostnih
vrednosti. Zato lahko namesto $p \liff q$ pišemo tudi $p = q$, če imamo v mislih le
resničnostne vrednosti.

\begin{opomba}
  Ekvivalentni izjavi imata lahko različen \emph{pomena}. Na primer,
  $\all{x, y \in R} x + y = y + x$ in
  $\all{\alpha \in R} \sin(2 \alpha) = 2 \cdot \cos \alpha \cdot \sin \alpha$ sta
  ekvivalentni, saj sta obe resnični, a ne moremo reči, da je njun pomen enak. (Predstavljate si, da bi bi vas v srednji šoli profesorica matematike vprašala adicijski izrek za $\sin$, vi pa bi odgovorili ">vrstni red seštevanja realnih števil ne vpliva na vrednost vsote"<.)
\end{opomba}


Za logične veznike veljajo \emph{algebrajska pravila}, se pravi enačbe, kakršne poznamo v algebri. Ta pravila lahko uporabljamo kot računska pravila, s katerimi lahko izjavo poenostavimo v ekvivalentno obliko. Pogosto je tako računanje bolj prikladno kot dokazovanje. Spodaj našteta pravila lahko preverimo tako, da zapišemo resničnostne tabele izjav in jih primerjamo.

Pravilom, ki veljajo za logične veznike, pravimo \textbf{Boolova algebra}.
Razdelimo jih po sklopih.

Pravila za konjunkcijo:
%
\begin{align}
  (p \land q) \land r &= p \land (q \land r) \tag{asociativnost $\land$} \\
  p \land q &= q \land p \tag{komutativnost $\land$} \\
  p \land p &= p \tag{idempotentnost $\land$} \\
  \top \land p &= p \tag{$\top$ je nevtralen za $\land$} \\
  \bot \land p &= \bot \tag{$\bot$ absorbira $\land$}
\end{align}
%
Pravila za disjunkcijo:
%
\begin{align}
  (p \lor q) \lor r &= p \lor (q \lor r) \tag{asociativnost $\lor$} \\
  p \lor q &= q \lor p \tag{komutativnost $\lor$} \\
  p \lor p &= p \tag{idempotentnost $\lor$} \\
  \bot \lor p &= p \tag{$\bot$ je nevtralen za $\lor$} \\
  \top \lor p &= \top \tag{$\top$ absorbira $\lor$}
\end{align}
%
Pravila za implikacijo:
%
\begin{align}
  (p \lthen q) &= (\neg q \lthen \neg p) \tag{kontrapozitivna oblika $\lthen$}\\
  (p \lthen q) &= \neg p \lor q \notag \\
  (\bot \lthen q) &= \top \notag \\
  (\top \lthen q) &= q \notag \\
  (p \lthen \bot) &= \neg p \notag \\
  (p \lthen \top) &= \top \notag
\end{align}
%
Kombinirana pravila:
%
\begin{align}
  \neg(p \land q) &= \neg p \lor \neg q \tag{de Morganovo pravilo za $\land$} \\
  \neg(p \lor q) &= \neg p \land \neg q \tag{de Morganovo pravilo za $\lor$} \\
  \neg(p \lthen q) &= p \land \neg q \notag \\
  p \land (p \lor q) &= p \tag{absorbcijsko pravilo za $\land$}\\
  p \lor (p \land q) &= p \tag{absorbcijsko pravilo za $\lor$} \\
  p \land (q \lor r) &= (p \land q) \lor (p \land r) \tag{distributivnost $\land$}\\
  p \lor (q \land r) &= (p \lor q) \land (p \lor r) \tag{distributivnost $\lor$}
\end{align}
%
Pravila za negacijo:
%
\begin{align}
  \neg \top  &= \bot \notag \\
  \neg \bot &= \top \notag \\
  \neg\neg p &= p \tag{negacija je involucija} \\
  p \lor \neg p &= \top \tag{izključena tretja možnost} \\
  p \land \neg p &= \bot \notag
\end{align}

Zapišimo še uporabna logična pravila za kvantifikatorje. Tokrat uporabimo $\liff$
namesto $=$, ker je to bolj običajno:
%
\begin{align*}
  (\all{x \in \emptyset} \phi(x))   &\iff   \top \\
  (\some{x \in \emptyset} \phi(x))   &\iff   \bot \\
  (\all{x \in \set{a}} \phi(x))   &\iff   \phi(a) \\
  (\some{x \in \set{a}} \phi(x))   &\iff   \phi(a) \\
  (\neg \all{x \in A} \phi(x))   &\iff   \some{x \in A} \neg \phi(x) \\
  (\neg \some{x \in A} \phi(x))   &\iff   \all{x \in A} \neg \phi(x) \\
  (\psi \lthen \all{x \in A} \phi(x))   &\iff   \all{x \in A} \psi \lthen \phi(x) \\
  (\psi \lor \all{x \in A} \phi(x))   &\iff   \all{x \in A} \psi \lor \phi(x) \\
  (\psi \land \some{x \in A} \phi(x))   &\iff   \some{x \in A} \psi \land \phi(x) \\
  (\all{u \in A \times B} \phi(u))   &\iff   \all{x \in A} \all{y \in B} \phi(x, y) \\
  (\some{u \in A \times B} \phi(u))   &\iff   \some{x \in A} \some{y \in B} \phi(x, y) \\
  (\all{u \in A + B} \phi(u))   &\iff   (\all{x \in A} \phi(\inl(x))) \land (\all{y \in B} \phi(\inr(y))) \\
  (\all{u \in A \cup B} \phi(u))   &\iff   (\all{x \in A} \phi(x)) \land (\all{y \in B} \phi(y)) \\
  (\some{u \in A + B} \phi(u))   &\iff   (\some{x \in A} \phi(\inl(x))) \lor (\some{y \in B} \phi(\inr(y))) \\
  (\some{u \in A \cup B} \phi(u))   &\iff   (\some{x \in A} \phi(x)) \lor (\some{y \in B} \phi(y)) \\
  (\all{u \in \set{x \in A \such \psi(x)}} \phi(u))   &\iff   \all{x \in A} \psi(x) \lthen \phi(x) \\
  (\some{u \in \set{x \in A \such \psi(x)}} \phi(u))   &\iff   \some{x \in A} \psi(x) \land \phi(x)
\end{align*}
%
Te ekvivalence je treba preveriti tako, da jih dokažemo.
